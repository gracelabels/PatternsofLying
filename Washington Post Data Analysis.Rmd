---
title: "Washington Post"
author: "Sofia Bliss-Carrascosa"
date: "10/05/2022"
output:
  pdf_document: default
  html_document: default
editor_options:
  chunk_output_type: console
---

```{r load packages, warning=FALSE, message=FALSE, echo = FALSE}
library(tidyverse)
library(knitr)
```
We began with a dataset of Washington Post fact checks from Claim Review. We began with 554 observations and in the process of cleaning our data, described below, we ended with 530.

In OpenRefine, we created a new column called ‘claimant_clean’ and manually sorted the names of all claimants to determine when there were different spellings of the same name. This was done via the cluster function embedded in the application. When iterations were found, we selected a single name to refer to each person by. For the claimant column, this cleaning process resulted in a reduction of claimants from 188 individual names to 169.

The Washington Post is not entirely consistent in its determinations of claim ratings. In theory, it has a standard ranking system ordered as follows: Geppetto Checkmark, One Pinocchio, Two Pinocchios, Three Pinocchios, Four Pinocchios. However, in our data, there were 335 are normal claims (those rated on the WaPo scale of 5 standardized ratings) and 173 anomaly claims with a non-standardized text based rating. Of those 219, 189 were labeled with an anomaly claim repeated more than once. To accord these common anomalies with the standard rating system, we took the data to Glenn Kessler, the singular WaPo fact-checker and the individual most familiar with the scale. At this stage we sent the more common ratings (occasionally grouping similar ones together) and asking him where they fall on the ratings scale. 
Claims marked:
Wrong, Incorrect, False --> Four Pinocchios
Mostly false, Spins or Twists facts, Exaggerated --> Three Pinocchios
Half true, Not the whole story, Depends on the math, Cherry-picked number --> Two Pinocchios
True, Correct, Accurate --> Gepetto Checkmark

For the more unclear categories, we sent 61 claims for individual review. For the purpose of concision, we removed claims that were tagged with uncommon anomaly ratings (1-2 observations). We began this process with 60 textual ratings, having the goal of eventually reducing down to the 5 rating ranking system.

```{r, warning=FALSE, message=FALSE, echo = FALSE}
v8_wapo <- read.csv("v8wapo-cleantextrating.csv")

v8_wapo_cleantextRating <- v8_wapo %>%
  filter(textualRating == "One Pinocchio" |
           textualRating == "Two Pinocchios" |
           textualRating == "Three Pinocchios" |
           textualRating == "Four Pinocchios" |
           textualRating == "Geppetto Checkmark" |
           textualRating == "Needs context" |
           textualRating == "Disputed" |
           textualRating == "Misleading" |
           textualRating == "No evidence" |
           textualRating == "Lacks evidence" |
           textualRating == "Study in Dispute")


v8_wapo_cleantextRating$textualRating <- factor(v8_wapo_cleantextRating$textualRating, 
                              levels = c("Geppetto Checkmark", 
                                         "One Pinocchio", 
                                         "Two Pinocchios", 
                                         "Three Pinocchios", 
                                         "Four Pinocchios", 
                                         "Disputed",
                                         "Study in Dispute",
                                         "Misleading",
                                         "Needs context",
                                         "Lacks evidence",
                                         "No evidence"))
```

```{r, warning=FALSE, message=FALSE, echo = FALSE}
v8_wapo_cleantextRating %>%
  group_by(claimant_party) %>%
  count() %>%
  kable(caption = "Claim Counts by Party")

v8_wapo_cleantextRating %>%
  group_by(textualRating) %>%
  count() %>%
  kable(caption = "Claim Counts by Rating")

v8_wapo_cleantextRating %>%
  group_by(claimant_party, textualRating) %>%
  count() %>%
  pivot_wider(id_cols = claimant_party, 
              names_from = textualRating, 
              values_from = n,
              values_fill = 0) %>%
  kable(caption = "Claim Counts by Party and Rating")
```

```{r, warning=FALSE, message=FALSE, echo = FALSE}
v8_wapo_5scale <- v8_wapo_cleantextRating %>%
  filter(textualRating == "One Pinocchio" |
           textualRating == "Two Pinocchios" |
           textualRating == "Three Pinocchios" |
           textualRating == "Four Pinocchios" |
           textualRating == "Geppetto Checkmark")

v8_wapo_5scale %>%
  ggplot(aes(x = textualRating, fill = claimant_party)) +
  geom_bar(position = "fill") +
  scale_fill_manual( values = c("blue2", "red3")) +
  labs(title = "Rating Proportions by Party",
       x = "Rating",
       y = "Proportion",
       fill = "Party of Claimant")

v8_wapo_5scale %>%
  ggplot(aes(x = textualRating, fill = claimant_party)) +
  geom_bar() +
  scale_fill_manual( values = c("blue2", "red3")) +
  labs(title = "Rating Counts by Party",
       x = "Rating",
       y = "Counts",
       fill = "Party of Claimant")
```


